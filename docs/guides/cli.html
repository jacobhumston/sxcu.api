<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>sxcu.api</title>
        <meta property="og:title" content="sxcu.api - node.js library to interact with the sxcu.net api." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://sxcu.api.lovelyjacob.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="../styles.css" />
    </head>
    <body>
        <div id="nav-bar">
            <button id="menu" type="button"><span class="material-icons-round">menu</span></button>
            <p>sxcu.api</p>
            <a href="../">Home</a>
            <a href="../latest/">Docs</a>
        </div>
        <div id="side-nav-bar-darken"></div>
        <div id="side-nav-bar">
            <a href="cli.html" class="side-nav-bar-link">Command Line Interface</a>
            <hr />
            <a href="testing.html" class="side-nav-bar-link">Testing</a>
            <hr />
            <a href="updating-to-v2.html" class="side-nav-bar-link">Updating to v2.0.0</a>
            <hr />
            <a href="uploading-a-file.html" class="side-nav-bar-link">Uploading a File</a>
            <hr />
            <a href="user-agent.html" class="side-nav-bar-link">Setting/Modifying the User Agent</a>
            <hr />
            <a href="welcome.html" class="side-nav-bar-link">Welcome!</a>
        </div>
        <br />
        <div id="guide-wrapper">
            <h1>Command Line Interface</h1>
            <hr />
            <p>
                sxcu.api has a CLI included in the package. The CLI includes utility commands to interact with the
                sxcu.api library in the command line. A middleware server is also included, which can add some extra
                features to your uploader of choice.
            </p>
            <h2>Installing &amp; Execution</h2>
            <hr />
            <pre><code class="language-bash">npm install -g sxcu.api<br></code></pre>
            <p>
                <em
                    >You can replace <code>sxcu.api</code> with
                    <code>&quot;https://github.com/jacobhumston/sxcu.api.git#dev-build&quot;</code> to install the
                    latest development build instead.</em
                >
            </p>
            <p>
                Once installed, you should be able to run <code>sxcu</code> in your terminal.
                <em>(A terminal restart may be required.)</em>
            </p>
            <pre><code class="language-bash">sxcu<br></code></pre>
            <p>If you do not want to install the package globally, install locally instead.</p>
            <pre><code class="language-bash">npm install sxcu.api<br></code></pre>
            <p>To execute sxcu on a local install; you will need to include the path or use <code>npx</code>.</p>
            <pre><code class="language-bash">npx sxcu<br></code></pre>
            <pre><code class="language-bash">./node_modules/.bin/sxcu<br></code></pre>
            <h2>Help Command and Options</h2>
            <hr />
            <p>You can use the <code>help</code> command to get a list of commands.</p>
            <pre><code class="language-bash">sxcu <span class="hljs-built_in">help</span><br></code></pre>
            <p>The CLI uses named arguments instead of positional for options.</p>
            <pre><code class="language-bash">sxcu <span class="hljs-built_in">help</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># wrong</span><br>sxcu <span class="hljs-built_in">help</span> --table <span class="hljs-literal">true</span> <span class="hljs-comment"># correct</span><br></code></pre>
            <p>The format is simple; <code>sxcu &lt;command&gt; --&lt;option name&gt; &lt;option value&gt;</code></p>
            <p>You can include as many options as needed. For example:</p>
            <pre><code class="language-bash">sxcu server --port 80 --url-lifespan 60 --<span class="hljs-built_in">log</span> <span class="hljs-literal">true</span><br></code></pre>
            <p>
                To get a list of a command's options and their descriptions; use the <code>command</code> option of the
                <code>help</code> command.
            </p>
            <pre><code class="language-bash">sxcu <span class="hljs-built_in">help</span> --<span class="hljs-built_in">command</span> &lt;<span class="hljs-built_in">command</span>&gt;<br></code></pre>
            <p>The help command also has an option to display the results as a table.</p>
            <pre><code class="language-bash">sxcu <span class="hljs-built_in">help</span> --table <span class="hljs-literal">true</span> --<span class="hljs-built_in">command</span> &lt;<span class="hljs-built_in">command</span>&gt;<br></code></pre>
            <h2>Middleware Server</h2>
            <hr />
            <p>
                The CLI includes a middleware server for uploading files. The two main features are rate limit handling
                as well as multiple urls in the same response. This middleware can handle any application that sends a
                valid payload. <strong>(This includes ShareX!)</strong>
            </p>
            <p>
                Instead of having to send image urls in multiple messages, you can provide a value for
                <code>--url-lifespan &lt;number&gt;</code>. This option determines how old an image can be before it's
                link is no longer included in responses. Each link is separated by a new line.
            </p>
            <p>To start the server, all you need to do is provide the port.</p>
            <pre><code class="language-bash">sxcu server --port 5555<br></code></pre>
            <p>There is plenty of options available, which can be found using the help command.</p>
            <p>
                <strong>If you want to request a feature, create an issue on the GitHub repository!</strong> - Or create
                a pull request with the changes already made. :^)
            </p>
        </div>
        <br />
        <br />
        <script>
            const menu = document.getElementById('menu');

            const codeBlocks = document.querySelectorAll('code');
            codeBlocks.forEach((block) => {
                if (block.childElementCount === 0) {
                    block.classList.add('inline-code');
                }
            });

            const sideNavBar = document.getElementById('side-nav-bar');
            const sideNavBarDarken = document.getElementById('side-nav-bar-darken');

            let enabled = true;
            menu.addEventListener('click', () => {
                enabled = enabled ? null : true;
                console.log(enabled);
                sideNavBar.style.display = enabled ? 'none' : 'block';
                sideNavBarDarken.style.display = enabled ? 'none' : 'block';
                document.body.style.overflowY = enabled ? 'auto' : 'hidden';
            });

            {
                const codeBlocks = document.getElementsByTagName('code');
                for (const block of codeBlocks) {
                    if (block.parentElement.tagName !== 'PRE') continue;
                    const id = `copy${Date.now()}${Math.random()}`;
                    const button = `<span class="material-icons-round copy-button" id="${id}">content_copy</span>`;
                    //block.innerHTML = block.innerHTML.replace('<br>', `${button}<br>`);
                    //if (!block.innerHTML.includes(button)) block.insertAdjacentHTML('beforeend', button);
                    block.parentElement.insertAdjacentHTML('beforeend', button);
                    let coolDown = false;
                    const element = document.getElementById(id);
                    element.addEventListener('click', async function () {
                        const fakeBlock = block.cloneNode(true);
                        fakeBlock.innerHTML = fakeBlock.innerHTML.replaceAll('<br>', '\n').replace('content_copy', '');
                        if (coolDown === true) return fakeBlock.remove();
                        coolDown = true;
                        element.innerText = 'hourglass_empty';
                        try {
                            await navigator.clipboard.writeText(fakeBlock.textContent);
                            element.innerText = 'done';
                            element.style.color = 'rgb(93, 166, 99)';
                        } catch {
                            element.innerText = 'error';
                            element.style.color = 'rgb(243, 109, 109)';
                        }
                        setTimeout(function () {
                            element.innerText = 'content_copy';
                            element.style.color = null;
                            coolDown = false;
                        }, 3000);
                        fakeBlock.remove();
                    });
                }
            }
        </script>
    </body>
</html>
